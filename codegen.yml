schema:
  - playground-application/src/resolvers/**/*.graphql

generates:
  playground-application/src/__generated__/schema.graphql:
    plugins:
      - schema-ast
    hooks:
      afterOneFileWrite:
        - node _scripts/dump-application-ast.mjs

  playground-application/src/__generated__/introspection.json:
    plugins:
      - introspection

  playground-application/src/__generated__/types.ts:
    plugins:
      - add:
          content: '/* eslint-disable */'
      - typescript
      - typescript-resolvers
    config:
      contextType: "@karrotmini/playground-application/src/runtime/ApplicationContext#IApplicationContext"
      scalars:
        URL: string
      mappers:
        # Core Mappers
        App: "@karrotmini/playground-core/src/entities#App"
        AppManifest: "@karrotmini/playground-core/src/entities#AppManifest"
        AppBundle: "@karrotmini/playground-core/src/entities#AppBundle"
        AppBundleUpload: "@karrotmini/playground-core/src/entities#AppBundleUpload"
        AppBundleTemplate: "@karrotmini/playground-core/src/entities#AppBundleTemplate"
        CustomHost: "@karrotmini/playground-core/src/entities#CustomHost"
        UserProfile: "@karrotmini/playground-core/src/entities#UserProfile"
        HostnameProviderInfo: "@karrotmini/playground-core/src/entities#HostnameProviderInfo"
        # Application Mappers
        CreateUserProfileResult: "@karrotmini/playground-application/src/resolvers/CreateUserProfileResult#Root"
      mapperTypeSuffix: Model
      useTypeImports: true
      avoidOptionals: true
      skipTypename: true
      nonOptionalTypename: true
      maybeValue: T | null
      customResolverFn: |
        (
          parent: TParent,
          args: TArgs,
          context: TContext,
        ) => Promise<TResult> | TResult;

  playground-application/src/__generated__/:
    preset: near-operation-file
    presetConfig:
      extension: .generated.ts
      baseTypesPath: types.ts
    plugins:
      - add:
          content: '/* eslint-disable */'
      - typescript-operations
      - typed-document-node
    config:
      scalars:
        URL: string
      useTypeImports: true
      maybeValue: T | null
      avoidOptionals: true
      skipTypename: true
      nonOptionalTypename: true
